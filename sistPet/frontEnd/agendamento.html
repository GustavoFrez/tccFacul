<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <title>Agendamento</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="/admin/plugins/fontawesome-free/css/all.min.css"
    />
    <!-- daterange picker -->
    <link
      rel="stylesheet"
      href="/admin/plugins/daterangepicker/daterangepicker.css"
    />
    <!-- iCheck for checkboxes and radio inputs -->
    <link
      rel="stylesheet"
      href="/admin/plugins/icheck-bootstrap/icheck-bootstrap.min.css"
    />
    <!-- Bootstrap Color Picker -->
    <link
      rel="stylesheet"
      href="/admin/plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css"
    />
    <!-- Tempusdominus Bootstrap 4 -->
    <link
      rel="stylesheet"
      href="/admin/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css"
    />
    <!-- Select2 -->
    <link rel="stylesheet" href="/admin/plugins/select2/css/select2.min.css" />
    <link
      rel="stylesheet"
      href="/admin/plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css"
    />
    <!-- Bootstrap4 Duallistbox -->
    <link
      rel="stylesheet"
      href="/admin/plugins/bootstrap4-duallistbox/bootstrap-duallistbox.min.css"
    />
    <!-- BS Stepper -->
    <link
      rel="stylesheet"
      href="/admin/plugins/bs-stepper/css/bs-stepper.min.css"
    />
    <!-- dropzonejs -->
    <link
      rel="stylesheet"
      href="/admin/plugins/dropzone/min/dropzone.min.css"
    />
    <!-- Theme style -->
    <link rel="stylesheet" href="/admin/dist/css/adminlte.min.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/pet.css" />
  </head>
  <header
    style="
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    "
  >
    <h1>
      <a style="text-decoration: none" href="/frontEnd/pets.html">Voltar</a>
    </h1>
  </header>
  <body>
    <section
      style="
        display: flex;
        align-items: center;
        margin-top: 2%;
        flex-direction: column;
      "
    >
      <!-- FORM -->
      <div class="col-md-12">
        <div class="card card-primary" style="border: none">
          <div
            class="card-header"
            style="
              background-color: #fba100;
              border-radius: 5px;
              width: 450px;
              color: #000;
              display: flex;
              justify-content: center;
            "
          >
            <h3
              class="card-title"
              style="font-weight: bolder; font-size: x-large"
            >
              Agendar Visita
            </h3>
          </div>
          <div class="card-body" style="margin-top: 3%">
            <div class="form-group">
              <div class="form-group">
                <label for="inputNome">Nome:</label>
                <input
                  type="text"
                  name="nomeAdotante"
                  id="nomeAdotante"
                  class="form-control"
                  required
                />
              </div>
              <div class="form-group">
                <label for="inputCpf">Cpf:</label>
                <input
                  type="text"
                  name="cpfAdotante"
                  id="cpfAdotante"
                  class="form-control"
                  required
                />
              </div>
              <label for="inputDataDeNascimento">Data:</label>
              <div
                class="input-group date"
                id="reservationdate"
                data-target-input="nearest"
              >
                <input
                  id="inputDia"
                  name="dia"
                  type="text"
                  class="form-control datetimepicker-input"
                  data-target="#reservationdate"
                  required
                />
                <div
                  class="input-group-append"
                  data-target="#reservationdate"
                  data-toggle="datetimepicker"
                >
                  <div class="input-group-text">
                    <i class="fa fa-calendar"></i>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="md-form" style="margin-top: 5%">
                  <label for="inputMDEx1">Hor√°rio:</label>
                  <input
                    type="time"
                    name="horario"
                    id="inputMDEx1"
                    class="form-control"
                    required
                  />
                </div>
              </div>
            </div>
          </div>
          <button
            style="
              width: 18%;
              align-self: center;
              border-radius: 8px;
              background-color: #fba100;
              border-color: #fba100;
              height: 2.7em;
              padding: 0;
              margin-top: 0;
            "
          >
            Agendar
          </button>
        </div>
      </div>
      <!-- END FORM -->
    </section>
  </body>
  <footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="./js/main.js"></script>
    <script>
      $("button").click(() => {
        let data = {
          horario: $("#inputMDEx1").val(),
          dia: $("#inputDia").val(),
          nomeAdotante: $("#nomeAdotante").val(),
          cpfAdotante: $("#cpfAdotante").val(),
        };

        if (
          data.horario !== "" &&
          data.dia !== "" &&
          data.nomeAdotante !== "" &&
          data.cpfAdotante !== ""
        ) {
          axios.post("http://localhost:2424/visitas", data).then((data) => {
            alert("Visita Cadastrada");
            window.location.href = "/frontEnd/index.html";
          });
        } else {
          alert("Preencha todos os campos para efetuar o agendamento");
        }
      });
    </script>
  </footer>
</html>
